{"ast":null,"code":"import axios from \"axios\";\nimport { server } from \"../../server\";\n\n// load user\nexport const loadUser = () => async dispatch => {\n  try {\n    dispatch({\n      type: \"LoadUserRequest\"\n    });\n    const {\n      data\n    } = await axios.get(`${server}/user/getuser`, {\n      withCredentials: true\n    });\n    dispatch({\n      type: \"LoadUserSuccess\",\n      payload: data.user\n    });\n  } catch (error) {\n    dispatch({\n      type: \"LoadUserFail\",\n      payload: error.response.data.message\n    });\n  }\n};\n\n// load seller\nexport const loadSeller = () => async dispatch => {\n  try {\n    dispatch({\n      type: \"LoadSellerRequest\"\n    });\n    const {\n      data\n    } = await axios.get(`${server}/shop/getSeller`, {\n      withCredentials: true\n    });\n    dispatch({\n      type: \"LoadSellerSuccess\",\n      payload: data.seller\n    });\n  } catch (error) {\n    dispatch({\n      type: \"LoadSellerFail\",\n      payload: error.response.data.message\n    });\n  }\n};\n\n// user update information\nexport const updateUserInformation = (name, email, phoneNumber, password) => async dispatch => {\n  try {\n    dispatch({\n      type: \"updateUserInfoRequest\"\n    });\n    const {\n      data\n    } = await axios.put(`${server}/user/update-user-info`, {\n      email,\n      password,\n      phoneNumber,\n      name\n    }, {\n      withCredentials: true,\n      headers: {\n        \"Access-Control-Allow-Credentials\": true\n      }\n    });\n    dispatch({\n      type: \"updateUserInfoSuccess\",\n      payload: data.user\n    });\n  } catch (error) {\n    dispatch({\n      type: \"updateUserInfoFailed\",\n      payload: error.response.data.message\n    });\n  }\n};\n\n// update user address\nexport const updatUserAddress = (country, city, address1, address2, zipCode, addressType) => async dispatch => {\n  try {\n    dispatch({\n      type: \"updateUserAddressRequest\"\n    });\n    const {\n      data\n    } = await axios.put(`${server}/user/update-user-addresses`, {\n      country,\n      city,\n      address1,\n      address2,\n      zipCode,\n      addressType\n    }, {\n      withCredentials: true\n    });\n    dispatch({\n      type: \"updateUserAddressSuccess\",\n      payload: {\n        successMessage: \"User address updated succesfully!\",\n        user: data.user\n      }\n    });\n  } catch (error) {\n    dispatch({\n      type: \"updateUserAddressFailed\",\n      payload: error.response.data.message\n    });\n  }\n};","map":{"version":3,"names":["axios","server","loadUser","dispatch","type","data","get","withCredentials","payload","user","error","response","message","loadSeller","seller","updateUserInformation","name","email","phoneNumber","password","put","headers","updatUserAddress","country","city","address1","address2","zipCode","addressType","successMessage"],"sources":["C:/Users/skander/Desktop/ProjectPFE/PFE/BoutiQNet/frontend/src/redux/actions/user.js"],"sourcesContent":["import axios from \"axios\";\nimport { server } from \"../../server\";\n\n// load user\nexport const loadUser = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({\n\t\t\ttype: \"LoadUserRequest\",\n\t\t});\n\t\tconst { data } = await axios.get(`${server}/user/getuser`, {\n\t\t\twithCredentials: true,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: \"LoadUserSuccess\",\n\t\t\tpayload: data.user,\n\t\t});\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: \"LoadUserFail\",\n\t\t\tpayload: error.response.data.message,\n\t\t});\n\t}\n};\n\n// load seller\nexport const loadSeller = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({\n\t\t\ttype: \"LoadSellerRequest\",\n\t\t});\n\t\tconst { data } = await axios.get(`${server}/shop/getSeller`, {\n\t\t\twithCredentials: true,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: \"LoadSellerSuccess\",\n\t\t\tpayload: data.seller,\n\t\t});\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: \"LoadSellerFail\",\n\t\t\tpayload: error.response.data.message,\n\t\t});\n\t}\n};\n\n// user update information\nexport const updateUserInformation =\n\t(name, email, phoneNumber, password) => async (dispatch) => {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: \"updateUserInfoRequest\",\n\t\t\t});\n\n\t\t\tconst { data } = await axios.put(\n\t\t\t\t`${server}/user/update-user-info`,\n\t\t\t\t{\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tphoneNumber,\n\t\t\t\t\tname,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Access-Control-Allow-Credentials\": true,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdispatch({\n\t\t\t\ttype: \"updateUserInfoSuccess\",\n\t\t\t\tpayload: data.user,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"updateUserInfoFailed\",\n\t\t\t\tpayload: error.response.data.message,\n\t\t\t});\n\t\t}\n\t};\n\n// update user address\nexport const updatUserAddress =\n\t(country, city, address1, address2, zipCode, addressType) =>\n\tasync (dispatch) => {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: \"updateUserAddressRequest\",\n\t\t\t});\n\n\t\t\tconst { data } = await axios.put(\n\t\t\t\t`${server}/user/update-user-addresses`,\n\t\t\t\t{\n\t\t\t\t\tcountry,\n\t\t\t\t\tcity,\n\t\t\t\t\taddress1,\n\t\t\t\t\taddress2,\n\t\t\t\t\tzipCode,\n\t\t\t\t\taddressType,\n\t\t\t\t},\n\t\t\t\t{ withCredentials: true }\n\t\t\t);\n\n\t\t\tdispatch({\n\t\t\t\ttype: \"updateUserAddressSuccess\",\n\t\t\t\tpayload: {\n\t\t\t\t\tsuccessMessage: \"User address updated succesfully!\",\n\t\t\t\t\tuser: data.user,\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"updateUserAddressFailed\",\n\t\t\t\tpayload: error.response.data.message,\n\t\t\t});\n\t\t}\n\t};\n\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,cAAc;;AAErC;AACA,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EACjD,IAAI;IACHA,QAAQ,CAAC;MACRC,IAAI,EAAE;IACP,CAAC,CAAC;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,GAAEL,MAAO,eAAc,EAAE;MAC1DM,eAAe,EAAE;IAClB,CAAC,CAAC;IACFJ,QAAQ,CAAC;MACRC,IAAI,EAAE,iBAAiB;MACvBI,OAAO,EAAEH,IAAI,CAACI;IACf,CAAC,CAAC;EACH,CAAC,CAAC,OAAOC,KAAK,EAAE;IACfP,QAAQ,CAAC;MACRC,IAAI,EAAE,cAAc;MACpBI,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACN,IAAI,CAACO;IAC9B,CAAC,CAAC;EACH;AACD,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM,MAAOV,QAAQ,IAAK;EACnD,IAAI;IACHA,QAAQ,CAAC;MACRC,IAAI,EAAE;IACP,CAAC,CAAC;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,GAAEL,MAAO,iBAAgB,EAAE;MAC5DM,eAAe,EAAE;IAClB,CAAC,CAAC;IACFJ,QAAQ,CAAC;MACRC,IAAI,EAAE,mBAAmB;MACzBI,OAAO,EAAEH,IAAI,CAACS;IACf,CAAC,CAAC;EACH,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACfP,QAAQ,CAAC;MACRC,IAAI,EAAE,gBAAgB;MACtBI,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACN,IAAI,CAACO;IAC9B,CAAC,CAAC;EACH;AACD,CAAC;;AAED;AACA,OAAO,MAAMG,qBAAqB,GACjCA,CAACC,IAAI,EAAEC,KAAK,EAAEC,WAAW,EAAEC,QAAQ,KAAK,MAAOhB,QAAQ,IAAK;EAC3D,IAAI;IACHA,QAAQ,CAAC;MACRC,IAAI,EAAE;IACP,CAAC,CAAC;IAEF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,KAAK,CAACoB,GAAG,CAC9B,GAAEnB,MAAO,wBAAuB,EACjC;MACCgB,KAAK;MACLE,QAAQ;MACRD,WAAW;MACXF;IACD,CAAC,EACD;MACCT,eAAe,EAAE,IAAI;MACrBc,OAAO,EAAE;QACR,kCAAkC,EAAE;MACrC;IACD,CACD,CAAC;IAEDlB,QAAQ,CAAC;MACRC,IAAI,EAAE,uBAAuB;MAC7BI,OAAO,EAAEH,IAAI,CAACI;IACf,CAAC,CAAC;EACH,CAAC,CAAC,OAAOC,KAAK,EAAE;IACfP,QAAQ,CAAC;MACRC,IAAI,EAAE,sBAAsB;MAC5BI,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACN,IAAI,CAACO;IAC9B,CAAC,CAAC;EACH;AACD,CAAC;;AAEF;AACA,OAAO,MAAMU,gBAAgB,GAC5BA,CAACC,OAAO,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,WAAW,KACxD,MAAOzB,QAAQ,IAAK;EACnB,IAAI;IACHA,QAAQ,CAAC;MACRC,IAAI,EAAE;IACP,CAAC,CAAC;IAEF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,KAAK,CAACoB,GAAG,CAC9B,GAAEnB,MAAO,6BAA4B,EACtC;MACCsB,OAAO;MACPC,IAAI;MACJC,QAAQ;MACRC,QAAQ;MACRC,OAAO;MACPC;IACD,CAAC,EACD;MAAErB,eAAe,EAAE;IAAK,CACzB,CAAC;IAEDJ,QAAQ,CAAC;MACRC,IAAI,EAAE,0BAA0B;MAChCI,OAAO,EAAE;QACRqB,cAAc,EAAE,mCAAmC;QACnDpB,IAAI,EAAEJ,IAAI,CAACI;MACZ;IACD,CAAC,CAAC;EACH,CAAC,CAAC,OAAOC,KAAK,EAAE;IACfP,QAAQ,CAAC;MACRC,IAAI,EAAE,yBAAyB;MAC/BI,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACN,IAAI,CAACO;IAC9B,CAAC,CAAC;EACH;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}